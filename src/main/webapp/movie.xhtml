<?xml version="1.0" encoding="UTF-8"?>
<ui:composition xmlns="http://www.w3.org/1999/xhtml"
                xmlns:ui="http://java.sun.com/jsf/facelets"
                xmlns:p="http://primefaces.org/ui"
                template="/WEB-INF/templates/template.xhtml"
                xmlns:h="http://xmlns.jcp.org/jsf/html"
                xmlns:f="http://xmlns.jcp.org/jsf/core">

    <ui:define name="title">
        Movies
    </ui:define>

    <ui:define name="description">
        <i class="fa fa-video-camera" aria-hidden="true"/>
    </ui:define>

    <ui:define name="body">
        <style type="text/css">
            .ui-datatable {
                font-family: sans-serif;
                margin-bottom: 25px
            }

            .ui-datatable .ui-datatable-header {
                text-align: justify;
            }

            .ui-button-text-only .ui-button-text {
                padding: 0.3em 0.4em;
            }

            .ui-selectcheckboxmenu-panel .ui-selectcheckboxmenu-header .ui-chkbox {
                visibility: hidden;
            }

            .ui-filter-column .ui-column-customfilter .custom-filter {
                width: 100%;
                box-sizing: border-box;
            }

            .year-spinner input {
                width: 100%;
                box-sizing: border-box;
            }
        </style>
        <h:form id="myform">

            <p:dataTable id="mvss" value="#{movieManagedBean.movielist}" widgetVar="mvie" resizableColumns="true" var="mvs" tableStyle="width:auto" 
                         emptyMessage="No movies found" editable="true" stickyHeader="true" paginator="true" paginatorPosition="bottom"
                         paginatorTemplate="{Exporters} {CurrentPageReport} {FirstPageLink} {PreviousPageLink} {PageLinks} {NextPageLink} {LastPageLink}"
                         rows="15" rowKey="#{mvs.id}" >
                <f:facet name="header" >
                    <p:outputPanel>
                        <h:outputText value="Search:" style="font-family: cursive; font-size: medium" />
                        <i class="fa fa-search" aria-hidden="true"/>
                        <p:inputText id="globalFilter" onkeyup="PF('mvie').filter()" style="width:200px" placeholder="Enter keyword"/>
                        <p:commandButton id="toggler" type="button" value="Columns" style="float:right" icon="fa fa-bars" />
                        <p:columnToggler datasource="mvss" trigger="toggler" />
                    </p:outputPanel>

                </f:facet>
                <p:column filterBy="#{mvs.id}" filterStyle="display:none; visibility:hidden;" headerText="ID" ><h:outputText value="#{mvs.id}"/></p:column>
                <p:column filterBy="#{mvs.name}" filterStyle="display:none; visibility:hidden;" headerText="NAME" ><h:outputText value="#{mvs.name}"/></p:column>
                <p:column filterBy="#{mvs.type}" filterStyle="display:none; visibility:hidden;" headerText="TYPE" ><h:outputText value="#{mvs.type}"/></p:column>
                <p:column filterBy="#{mvs.description}" filterStyle="display:none; visibility:hidden;" headerText="DESCRIPTION" ><h:outputText value="#{mvs.description}"/></p:column>
                <p:column filterBy="#{mvs.production}" filterStyle="display:none; visibility:hidden;" headerText="PRODUCTION" ><h:outputText value="#{mvs.production}"/></p:column>
                <p:column filterBy="#{mvs.status}" filterStyle="display:none; visibility:hidden;" headerText="STATUS" ><h:outputText value="#{mvs.status}"/></p:column>

                <f:facet name="{Exporters}">
                    <h:commandLink >
                        <p:graphicImage library="images" name="pdf.png" width="30"/>
                        <p:dataExporter type="pdf" target="mvss" fileName="movies" />
                    </h:commandLink>
                    <tbreak/>
                    <h:commandLink>
                        <p:graphicImage library="images" name="csv.png" width="30"/>
                        <p:dataExporter type="csv" target="mvss" fileName="movies" />
                    </h:commandLink>
                </f:facet>
                
            </p:dataTable>
            <p:inputTextarea rows="5" cols="30" counter="display" maxlength="100" counterTemplate="{0} characters remaining." autoResize="false" />

            <br/>
            <h:outputText id="display" />
            <br/>
            <p:commandButton value="Submit" style="margin-right:20px;" styleClass="ui-priority-primary" icon="fa fa-check" />
        </h:form>
    </ui:define>

</ui:composition>